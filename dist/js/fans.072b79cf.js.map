{"version":3,"sources":["webpack:///./src/views/fans/index.vue?e0bc","webpack:///./src/views/fans/index.vue?a428","webpack:///src/views/fans/index.vue","webpack:///./src/views/fans/index.vue?d814","webpack:///./src/views/fans/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","activeName","expression","_l","follower","key","id","toString","photo","_v","_s","name","total","reqParams","per_page","staticStyle","page","on","changePager","_e","ref","staticRenderFns","option","xAxis","data","xAxisData","series","seriesData","myChart","setOption","component"],"mappings":"iIAAA,yBAA2jB,EAAG,G,yCCA9jB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,UAAU,CAACA,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,QAAQC,MAAM,CAACC,MAAOT,EAAc,WAAEU,SAAS,SAAUC,GAAMX,EAAIY,WAAWD,GAAKE,WAAW,eAAe,CAACT,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,CAACP,EAAIc,GAAId,EAAa,WAAE,SAASe,GAAU,OAAOX,EAAG,MAAM,CAACY,IAAID,EAASE,GAAGC,WAAWZ,YAAY,SAAS,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,IAAMQ,EAASI,SAASf,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIoB,GAAGpB,EAAIqB,GAAGN,EAASO,SAASlB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,OAAO,MAAQ,KAAK,CAACP,EAAIoB,GAAG,UAAU,MAAMpB,EAAIuB,MAAMvB,EAAIwB,UAAUC,SAAUrB,EAAG,gBAAgB,CAACsB,YAAY,CAAC,aAAa,QAAQnB,MAAM,CAAC,WAAa,GAAG,OAAS,oBAAoB,eAAeP,EAAIwB,UAAUG,KAAK,YAAY3B,EAAIwB,UAAUC,SAAS,MAAQzB,EAAIuB,OAAOK,GAAG,CAAC,iBAAiB5B,EAAI6B,eAAe7B,EAAI8B,MAAM,GAAG1B,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,CAACH,EAAG,MAAM,CAAC2B,IAAI,OAAOL,YAAY,CAAC,MAAQ,QAAQ,OAAS,cAAc,IAAI,IAAI,IACljCM,EAAkB,G,6CC6BtB,GACE,KADF,WAEI,MAAJ,CACM,UAAN,CACQ,KAAR,EACQ,SAAR,IAEM,UAAN,GACM,MAAN,EACM,WAAN,WAGE,QAZF,WAaI,KAAJ,gBAEE,QAfF,WAgBI,KAAJ,WAEE,QAAF,CAEI,aAFJ,WAEM,IAAN,OAAM,OAAN,4JACA,8CADA,OACA,EADA,OAEA,gCACA,gCAHA,8CAKI,YAPJ,SAOA,GACM,KAAN,iBACM,KAAN,gBAEI,QAXJ,WAWM,IAAN,OAAM,OAAN,wKAEgB,EAAhB,uBACgB,EAAhB,CACkB,MAAlB,YACkB,QAAlB,CACoB,QAApB,OACoB,YAApB,CACsB,KAAtB,WAGkB,KAAlB,CACoB,KAApB,KACoB,MAApB,KACoB,OAApB,KACoB,cAApB,GAEkB,MAAlB,CACA,CACoB,KAApB,WACoB,KAApB,4CACoB,SAApB,CACsB,gBAAtB,KAIkB,MAAlB,CACA,CACoB,KAApB,UAGkB,OAAlB,CACA,CACoB,KAApB,OACoB,KAApB,MACoB,SAApB,MACoB,KAApB,+BApCA,SAyCA,oCAzCA,OA6CgB,IAAhB,KAJgB,EAzChB,OA0CgB,EAAhB,gBACgB,EAAhB,GACgB,EAAhB,GACA,EACkB,EAAlB,QACkB,EAAlB,WAEgBC,EAAOC,MAAM,GAAGC,KAAOC,EACvBH,EAAOI,OAAO,GAAGF,KAAOG,EAExBC,EAAQC,UAAUP,GApDlC,qDAsDA,gCAtDA,+DC3D8V,I,wBCQ1VQ,EAAY,eACd,EACA1C,EACAiC,GACA,EACA,KACA,WACA,MAIa,aAAAS,E","file":"js/fans.072b79cf.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4e1bbef3&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4e1bbef3&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fans\"},[_c('el-card',[_c('el-tabs',{attrs:{\"type\":\"card\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"粉丝列表\",\"name\":\"first\"}},[_vm._l((_vm.followers),function(follower){return _c('div',{key:follower.id.toString(),staticClass:\"block\"},[_c('el-image',{attrs:{\"src\":follower.photo}}),_c('span',{staticClass:\"fname\"},[_vm._v(_vm._s(follower.name))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"plain\":\"\"}},[_vm._v(\"+关注\")])],1)}),(_vm.total>_vm.reqParams.per_page)?_c('el-pagination',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.reqParams.page,\"page-size\":_vm.reqParams.per_page,\"total\":_vm.total},on:{\"current-change\":_vm.changePager}}):_vm._e()],2),_c('el-tab-pane',{attrs:{\"label\":\"粉丝画像\",\"name\":\"second\"}},[_c('div',{ref:\"main\",staticStyle:{\"width\":\"600px\",\"height\":\"400px\"}})])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"container-fans\">\n        <el-card>\n             <el-tabs v-model=\"activeName\" type=\"card\">\n                <el-tab-pane label=\"粉丝列表\" name=\"first\">                 <!--key：字符串或数字-->\n                    <div class=\"block\" v-for=\"follower in followers\" :key=\"follower.id.toString()\">\n                        <el-image :src=\"follower.photo\"></el-image>\n                        <span class=\"fname\" >{{follower.name}}</span>\n                         <el-button type=\"primary\" size=\"mini\" plain>+关注</el-button>\n                    </div>\n                    <el-pagination \n                        style=\"margin-top: 20px;\"\n                        background\n                        layout=\"prev, pager, next\"\n                        v-if=\"total>reqParams.per_page\"\n                        @current-change=\"changePager\"\n                        :current-page=\"reqParams.page\"\n                        :page-size=\"reqParams.per_page\"\n                        :total=\"total\">\n                    </el-pagination>\n                </el-tab-pane>\n                <el-tab-pane label=\"粉丝画像\" name=\"second\">\n                    <div ref =\"main\" style=\"width: 600px;height:400px;\"></div>\n                </el-tab-pane>\n            </el-tabs>\n        </el-card>\n    </div>\n</template>\n<script>\nimport echarts from 'echarts'\n  export default {\n    data() {\n      return {\n          reqParams: {\n              page: 1,\n              per_page: 24\n          },\n          followers: [],\n          total: 0,\n          activeName: 'second',     \n      }\n    },\n    created(){\n        this.getFollowers()\n    },\n    mounted(){\n        this.initBar()\n    },\n    methods: {\n      \n      async getFollowers(){\n          const res = await this.$http.get('followers', { params: this.reqParams })\n          this.followers = res.data.data.results\n          this.total = res.data.data.total_count\n      },\n      changePager(newPage){\n          this.reqParams.page = newPage\n          this.getFollowers()\n      },\n      async initBar(){\n          try {\n                const myChart = echarts.init(this.$refs.main);\n                const option = {\n                    color: ['#3398DB'],\n                    tooltip: {\n                        trigger: 'axis',\n                        axisPointer: {            // 坐标轴指示器，坐标轴触发有效\n                            type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\n                        }\n                    },\n                    grid: {\n                        left: '3%',\n                        right: '4%',\n                        bottom: '3%',\n                        containLabel: true\n                    },\n                    xAxis: [\n                        {\n                            type: 'category',\n                            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n                            axisTick: {\n                                alignWithLabel: true\n                            }\n                        }\n                    ],\n                    yAxis: [\n                        {\n                            type: 'value'\n                        }\n                    ],\n                    series: [\n                        {\n                            name: '直接访问',\n                            type: 'bar',\n                            barWidth: '60%',\n                            data: [10, 52, 200, 334, 390, 330, 220]\n                        }\n                    ]\n                };\n\n                const res = await this.$http.get('statistics/followers')\n                const obj = res.data.data.age\n                const xAxisData = []\n                const seriesData = []\n                for( const key in obj){\n                    xAxisData.push(key)\n                    seriesData.push(obj[key])\n                }\n                option.xAxis[0].data = xAxisData\n                option.series[0].data = seriesData\n                // 使用刚指定的配置项和数据显示图表。\n                myChart.setOption(option);\n          } catch (error) {\n              this.$message.error('网络不稳定，请刷新试试')\n          }\n      }\n    }\n  };\n</script>\n<style lang=\"less\" scoped>\n.container-fans{\n    .block{\n        display: inline-block;\n        width: 100px;\n        height: 155px;\n        border: 1px dashed #ddd;\n        margin-right: 30px;\n        margin-bottom: 20px;\n        text-align: center;\n        padding-top: 5px;\n        .el-image{\n            width:80px;\n            height:80px;\n            line-height:80px;\n            border-radius: 50%;\n        }\n        .fname{\n            display: block;\n            height: 30px;\n            line-height: 30px;\n            font-size: 14px;\n        }\n    }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4e1bbef3&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4e1bbef3&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e1bbef3\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}